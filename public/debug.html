<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug FaceRec</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f0f0;
        }
        .debug-box {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
        }
        .status.success { background: #d4edda; color: #155724; }
        .status.error { background: #f8d7da; color: #721c24; }
        .status.warning { background: #fff3cd; color: #856404; }
    </style>
</head>
<body>
    <h1>üîç Debug do FaceRec</h1>
    
    <div class="debug-box">
        <h3>üì° Status dos Servi√ßos</h3>
        <p>Frontend (React): <span id="frontend-status" class="status">Verificando...</span></p>
        <p>Backend (Node.js): <span id="backend-status" class="status">Verificando...</span></p>
    </div>
    
    <div class="debug-box">
        <h3>üîê Dados de Autentica√ß√£o</h3>
        <p>Token: <span id="token-status">Verificando...</span></p>
        <p>Usu√°rio: <span id="user-status">Verificando...</span></p>
    </div>
    
    <div class="debug-box">
        <h3>üè´ Dados de Salas</h3>
        <p>Salas Admin: <span id="salas-admin">Verificando...</span></p>
        <p>Alunos Admin: <span id="alunos-admin">Verificando...</span></p>
    </div>
    
    <div class="debug-box">
        <h3>üîó Links de Teste</h3>
        <a href="http://localhost:5173" target="_blank">Frontend React</a> | 
        <a href="http://localhost:4001" target="_blank">Backend API</a> | 
        <a href="http://localhost:5173/login" target="_blank">Login</a> | 
        <a href="http://localhost:5173/sala/1" target="_blank">Sala 1</a>
    </div>
    
    <script>
        // Verificar status do frontend
        fetch('http://localhost:5173')
            .then(response => {
                const element = document.getElementById('frontend-status');
                if (response.ok) {
                    element.textContent = '‚úÖ Online';
                    element.className = 'status success';
                } else {
                    element.textContent = '‚ùå Erro HTTP';
                    element.className = 'status error';
                }
            })
            .catch(() => {
                const element = document.getElementById('frontend-status');
                element.textContent = '‚ùå Offline';
                element.className = 'status error';
            });
        
        // Verificar status do backend
        fetch('http://localhost:4001')
            .then(response => {
                const element = document.getElementById('backend-status');
                if (response.ok) {
                    element.textContent = '‚úÖ Online';
                    element.className = 'status success';
                } else {
                    element.textContent = '‚ö†Ô∏è Respondendo';
                    element.className = 'status warning';
                }
            })
            .catch(() => {
                const element = document.getElementById('backend-status');
                element.textContent = '‚ùå Offline';
                element.className = 'status error';
            });
        
        // Verificar localStorage
        try {
            const token = localStorage.getItem('token');
            const usuario = localStorage.getItem('usuario');
            
            document.getElementById('token-status').textContent = token ? '‚úÖ Presente' : '‚ùå Ausente';
            document.getElementById('user-status').textContent = usuario ? '‚úÖ Logado' : '‚ùå N√£o logado';
            
            const salasAdmin = localStorage.getItem('admin_salas');
            const alunosAdmin = localStorage.getItem('admin_alunos');
            
            document.getElementById('salas-admin').textContent = salasAdmin ? 
                `‚úÖ ${JSON.parse(salasAdmin).dados?.length || 0} salas` : '‚ùå Nenhuma';
            document.getElementById('alunos-admin').textContent = alunosAdmin ? 
                `‚úÖ ${JSON.parse(alunosAdmin).dados?.length || 0} alunos` : '‚ùå Nenhum';
        } catch (error) {
            console.error('Erro ao verificar localStorage:', error);
        }
    </script>
</body>
</html>